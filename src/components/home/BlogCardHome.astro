---
interface Props {
	title: string;
	href: string;
	excerpt: string;
	category: string;
	readingTime?: string;
	date?: string;
	colorVariant?: 'primary' | 'secondary' | 'accent';
	imageUrl?: string;
}

const {
	title,
	href,
	excerpt,
	category,
	readingTime,
	date,
	colorVariant = 'primary',
	imageUrl,
} = Astro.props;

// Mapeo de colores seg√∫n variante
const colorMap = {
	primary: {
		bg: 'from-[var(--pv-primary-soft)]',
		badgeBg: 'bg-[var(--pv-primary-soft)]',
		badgeText: 'text-primary',
	},
	secondary: {
		bg: 'from-[var(--pv-secondary-soft)]',
		badgeBg: 'bg-[var(--pv-secondary-soft)]',
		badgeText: 'text-[var(--pv-secondary-base)]',
	},
	accent: {
		bg: 'from-[var(--pv-accent-soft)]',
		badgeBg: 'bg-[var(--pv-accent-soft)]',
		badgeText: 'text-[var(--pv-accent-base)]',
	},
};

const colors = colorMap[colorVariant];
---

<article class="bg-white rounded-2xl shadow-sm hover:shadow-xl hover:-translate-y-2 transition-all duration-300 overflow-hidden group border border-[var(--pv-border-mid)]">
	<div class={`aspect-video bg-gradient-to-br ${colors.bg} to-white`}>
		{imageUrl && (
			<img 
				src={imageUrl} 
				alt={title}
				class="w-full h-full object-cover"
				loading="lazy"
			/>
		)}
	</div>
	<div class="p-6">
		<div class={`inline-flex items-center px-3 py-1 ${colors.badgeBg} ${colors.badgeText} text-xs font-semibold rounded-full mb-4`}>
			{category}
		</div>
		<h3 class="text-xl font-semibold text-ink-base mb-3">
			<a href={href} class="hover:text-primary transition-colors duration-200">
				{title}
			</a>
		</h3>
		<p class="text-ink-muted text-sm mb-4">
			{excerpt}
		</p>
		{(readingTime || date) && (
			<div class="flex items-center justify-between text-sm text-ink-subtle">
				{readingTime && <span>{readingTime}</span>}
				{date && <span>{date}</span>}
			</div>
		)}
	</div>
</article>


